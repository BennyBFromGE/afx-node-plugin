
YUI.add('afx-node-plugin',function(Y){var NodeAFX=function(config){NodeAFX.superclass.constructor.apply(this,arguments);this.addAtt("delay",{value:config.delay||false});this.addAtt("ghost",{value:config.ghost||false});this.addAtt("bind",{value:config.bind});};NodeAFX.NAME="nodeafx";NodeAFX.NS="afx";var afx=(function(){var _attrs=[];var addAttributes=function(attrs){for(var key in attrs){this.addAtt(key,{value:attrs[key]});_attrs.push(key);}};var removeAttributes=function(){for(var i=0,len=_attrs.length;i<len;i++){var attrName=_attrs[i];this.removeAtt(attrName);}};var styleNode=function(styles){var node=this.get("node");for(var prop in styles){node.setStyle(prop,styles[prop]);}};var setUpPreState=function(fn){fn.call(this);};var setUpPostState=function(fn){var onEnd=function(){this.unsubscribe("end",onEnd);fn.call(this);};this.on("end",onEnd,this);};var animate=function(f,t,e){var from=this.get("from")||{},to=this.get("to")||{},easing=e||Y.Easing.easeOut;from=Y.merge(f);to=Y.merge(t);this.set("from",from);this.set("to",to);this.set("easing",easing);if(!this.get("delay")){this.run();}};return{hide:function(){this.get("node").setStyle("display","none").setStyle("visibility","none");},show:function(){this.get("node").setStyle("display","block").setStyle("visibility","visible");},highlight:function(a){setUpPostState.call(this,function(){if(a){a.call(this.get("node"));}});animate.call(this,{backgroundColor:"#FFFB52"},{backgroundColor:this.get("node").getStyle("backgroundColor")});},fade:function(a){setUpPostState.call(this,function(){if(a){a.call(this.get("node"));}});animate.call(this,{opacity:1},{opacity:0});},appear:function(a){styleNode.call(this,{opacity:0});this.show();setUpPostState.call(this,function(){if(a){a.call(this.get("node"));}});animate.call(this,{opacity:0},{opacity:1});},blindUp:function(a){addAttributes.call(this,{origHeight:parseInt(this.get("node").get("scrollHeight")),origTop:parseInt(this.get("node").get("offsetTop"))});styleNode.call(this,{overflow:"hidden"});var from={},to={};setUpPreState.call(this,function(){from.height=this.get("origHeight")+"px";to.height="0px";if(this.get("ghost")){from.opacity=1;to.opacity=0;}
if(this.get("bind")==="bottom"){styleNode.call(this,{height:"0px",top:this.get("origHeight")+"px"});from.height="0px";to.height=this.get("origHeight")+"px";from.top=this.get("origTop")+this.get("origHeight")+"px";to.top=this.get("origTop")+"px";if(this.get("ghost")){from.opacity=0;to.opacity=1;}}});setUpPostState.call(this,function(){if(this.get("bind")==="bottom"){styleNode.call(this,{top:this.get("origTop")+"px"});}else{this.hide();styleNode.call(this,{height:this.get("origHeight")+"px"});}
if(a){a.call(this.get("node"));}});animate.call(this,from,to);},blindDown:function(a){addAttributes.call(this,{origHeight:parseInt(this.get("node").get("scrollHeight")),origTop:parseInt(this.get("node").get("offsetTop"))});styleNode.call(this,{overflow:"hidden"});var from={},to={};setUpPreState.call(this,function(){from.height=0;to.height=this.get("origHeight")+"px"
if(this.get("ghost")){from.opacity=0;to.opacity=1;}
if(this.get("bind")==="bottom"){from.height=this.get("origHeight")+"px";to.height="0px";from.top=this.get("origTop");to.top=this.get("origTop")+this.get("origHeight");if(this.get("ghost")){from.opacity=1;to.opacity=0;}}else{styleNode.call(this,{height:"0px"});}});setUpPostState.call(this,function(){if(this.get("bind")==="bottom"){this.hide();styleNode.call(this,{top:this.get("origTop")+"px",height:this.get("origHeight")+"px",opacity:1});}else{styleNode.call(this,{opacity:1});}
if(a){a.call(this.get("node"));}});animate.call(this,from,to);},blindRight:function(a){addAttributes.call(this,{origWidth:parseInt(this.get("node").get("scrollWidth")),origLeft:parseInt(this.get("node").get("offsetLeft"))});styleNode.call(this,{overflow:"hidden"});var from={},to={};setUpPreState.call(this,function(){from.width=0;to.width=this.get("origWidth")+"px";if(this.get("ghost")){from.opacity=0;to.opacity=1;}
if(this.get("bind")==="right"){from.width=this.get("origWidth")+"px";to.width="0px";from.left=this.get("origLeft");to.left=this.get("origLeft")+this.get("origWidth");if(this.get("ghost")){from.opacity=1;to.opacity=0;}}else{styleNode.call(this,{width:"0px"});}});setUpPostState.call(this,function(){if(this.get("bind")==="right"){this.hide();styleNode.call(this,{left:this.get("origLeft")+"px",width:this.get("origWidth")+"px",opacity:1});}else{styleNode.call(this,{opacity:1});}
if(a){a.call(this.get("node"));}});animate.call(this,from,to);},blindLeft:function(a){addAttributes.call(this,{origWidth:parseInt(this.get("node").get("scrollWidth")),origLeft:parseInt(this.get("node").get("offsetLeft"))});styleNode.call(this,{overflow:"hidden"});var from={},to={};setUpPreState.call(this,function(){from.width=this.get("origWidth")+"px";to.width="0px";if(this.get("ghost")){from.opacity=1;to.opacity=0;}
if(this.get("bind")==="right"){this.hide();styleNode.call(this,{width:"0px",left:this.get("origWidth")+"px"});if(this.get("ghost")){styleNode.call(this,{opacity:0});from.opacity=0;to.opacity=1;}
this.show();from.height="0px";to.height=this.get("origWidth")+"px";from.left=this.get("origLeft")+this.get("origWidth")+"px";to.left=this.get("origLeft")+"px";}});setUpPostState.call(this,function(){if(this.get("bind")==="right"){}else{this.hide();styleNode.call(this,{left:this.get("origLeft")+"px",width:this.get("origWidth")+"px",opacity:1});}
if(a){a.call(this.get("node"));}});animate.call(this,from,to);},fold:function(a){addAttributes.call(this,{origHeight:parseInt(this.get("node").get("scrollHeight")),origWidth:parseInt(this.get("node").get("scrollWidth"))});if(!this.get("delay")){this.show();}
styleNode.call(this,{overflow:"hidden"});setUpPreState.call(this,function(){});setUpPostState.call(this,function(){var from={},to={};setUpPreState.call(this,function(){from.height=this.get("to").height;from.width=this.get("origWidth")+"px";to.width="0px";if(this.get("ghost")){from.opacity=1;to.opacity=0;}});setUpPostState.call(this,function(){this.hide();styleNode.call(this,{height:this.get("origHeight")+"px",width:this.get("origWidth")+"px"});if(a){a.call(this.get("node"));}});animate.call(this,from,to);});animate.call(this,{height:this.get("origHeight")+"px"},{height:"5px"});},unFold:function(a){addAttributes.call(this,{origHeight:parseInt(this.get("node").get("scrollHeight")),origWidth:parseInt(this.get("node").get("scrollWidth"))});this.hide();styleNode.call(this,{height:"0px",width:"0px",overflow:"hidden"});this.show();var from={},to={};setUpPreState.call(this,function(){from.height="0px";from.width="0px";to.height="5px";to.width=this.get("origWidth")+"px";if(this.get("ghost")){from.opacity=0;to.opacity=.15;}});setUpPostState.call(this,function(){var eFrom={},eTo={};setUpPreState.call(this,function(){eFrom.height=this.get("to").height;eFrom.width=this.get("origWidth")+"px";eTo.height=this.get("origHeight")+"px";eTo.width=this.get("origWidth")+"px";if(this.get("ghost")){eFrom.opacity=.15;eTo.opacity=1;}});setUpPostState.call(this,function(){if(a){a.call(this.get("node"));}});animate.call(this,eFrom,eTo);});animate.call(this,from,to);},shakeLR:function(a){addAttributes.call(this,{done:false,offset:10,maxCount:5,counter:0,post:this.get("node").getXY()});setUpPostState.call(this,function(){var eTo={};var onTick=function(){if(this.get("counter")<this.get("maxCount")){this.set("counter",this.get("counter")+1);if(this.get("left")){this.removeAtt("left");eTo.left=-this.get("offset");}else{this.addAtt("left",{value:true});eTo.left=this.get("offset");}}else{this.set("done",true);this.removeAtt("left");this.removeAtt("counter");eTo.left=0;}};var onEnd=function(){if(this.get("done")){if(a){a.call(this.get("node"));}}else{setUpPreState.call(this,onTick);setUpPostState.call(this,onEnd);animate.call(this,{},eTo);}};setUpPreState.call(this,onTick);setUpPostState.call(this,onEnd);animate.call(this,{},eTo);});this.set("duration",.25);animate.call(this,{},{left:-this.get("offset")});},shakeTB:function(a){addAttributes.call(this,{done:false,offset:10,maxCount:5,counter:0,post:this.get("node").getXY()});setUpPostState.call(this,function(){var eTo={};var onTick=function(){if(this.get("counter")<this.get("maxCount")){this.set("counter",this.get("counter")+1);if(this.get("top")){this.removeAtt("top");eTo.top=-this.get("offset");}else{this.addAtt("top",{value:true});eTo.top=this.get("offset");}}else{this.set("done",true);this.removeAtt("top");this.removeAtt("counter");eTo.top=0;}};var onEnd=function(){if(this.get("done")){if(a){a.call(this.get("node"));}}else{setUpPreState.call(this,onTick);setUpPostState.call(this,onEnd);animate.call(this,{},eTo);}};setUpPreState.call(this,onTick);setUpPostState.call(this,onEnd);animate.call(this,{},eTo);});this.set("duration",.25);animate.call(this,{},{top:-this.get("offset")});},drop:function(a){addAttributes.call(this,{origHeight:parseInt(this.get("node").get("scrollHeight")),origTop:parseInt(this.get("node").get("offsetTop"))});setUpPostState.call(this,function(){styleNode.call(this,{top:this.get("origTop")+"px",opacity:1});if(a){a.call(this.get("node"));}});animate.call(this,{top:this.get("origTop"),opacity:1},{top:this.get("origTop")+this.get("origHeight"),opacity:0},Y.Easing.easeIn);},pulse:function(a){addAttributes.call(this,{done:false,maxCount:9,counter:0});setUpPostState.call(this,function(){var eTo={};var onTick=function(){if(this.get("counter")<this.get("maxCount")){this.set("counter",this.get("counter")+1);if(this.get("on")){this.removeAtt("on");eTo.opacity=0;}else{this.addAtt("on",{value:true});eTo.opacity=1;}}else{this.set("done",true);this.removeAtt("on");this.removeAtt("counter");eTo.opacity=1;}};var onEnd=function(){if(this.get("done")){if(a){a.call(this.get("node"));}}else{setUpPreState.call(this,onTick);setUpPostState.call(this,onEnd);animate.call(this,{},eTo);}};setUpPreState.call(this,onTick);setUpPostState.call(this,onEnd);animate.call(this,{},eTo);});this.set("duration",.25);animate.call(this,{opacity:1},{opacity:0},Y.Easing.easeIn);},shrink:function(a){addAttributes.call(this,{origHeight:parseInt(this.get("node").get("scrollHeight")),origWidth:parseInt(this.get("node").get("scrollWidth"))});styleNode.call(this,{overflow:"hidden"});setUpPostState.call(this,function(){this.hide();styleNode.call(this,{opacity:1,fontSize:"100%",height:this.get("origHeight")+"px",width:this.get("origWidth")+"px"});if(a){a.call(this.get("node"));}});animate.call(this,{fontSize:"100%",opacity:1},{fontSize:"0%",height:0,width:0,opacity:0});},grow:function(a){addAttributes.call(this,{origHeight:parseInt(this.get("node").get("scrollHeight")),origWidth:parseInt(this.get("node").get("scrollWidth"))});styleNode.call(this,{overflow:"hidden"});setUpPostState.call(this,function(){if(a){a.call(this.get("node"));}});animate.call(this,{fontSize:"0%",opacity:0,height:0,width:0},{fontSize:"100%",opacity:1,height:this.get("origHeight"),width:this.get("origWidth")});},tv:function(a){addAttributes.call(this,{origHeight:parseInt(this.get("node").get("scrollHeight")),origWidth:parseInt(this.get("node").get("scrollWidth"))});styleNode.call(this,{overflow:"hidden"});setUpPostState.call(this,function(){setUpPostState.call(this,function(){this.hide();styleNode.call(this,{height:this.get("origHeight")+"px",width:this.get("origWidth")+"px",top:"",left:"",opacity:1});if(a){a.call(this.get("node"));}});animate.call(this,{top:(this.get("origHeight")/2),left:0,height:5,opacity:1},{top:(this.get("origHeight")/2),left:(this.get("origWidth")/2),height:5,width:5,opacity:0});});animate.call(this,{top:0},{top:(this.get("origHeight")/2),height:5},Y.Easing.easeIn);},shadow:function(a){},puff:function(a){addAttributes.call(this,{origHeight:parseInt(this.get("node").get("scrollHeight")),origWidth:parseInt(this.get("node").get("scrollWidth")),origTop:parseInt(this.get("node").get("offsetTop")),origLeft:parseInt(this.get("node").get("offsetLeft"))});styleNode.call(this,{position:"absolute"});var from={},to={};setUpPreState.call(this,function(){var xy=this.get("node").getXY(),h=this.get("origHeight"),w=this.get("origWidth"),nh=((h/2)+h),nw=((w/2)+w),nto=((nh-h)/2),nlo=((nw-w)/2),nt=xy[1]-nto,nl=xy[0]-nlo;from.opacity=1;to.top=nt;to.left=nl;to.width=nw;to.height=nh;to.opacity=0;});setUpPostState.call(this,function(){styleNode.call(this,{height:this.get("origHeight")+"px",width:this.get("origWidth")+"px",top:this.get("origTop")+"px",left:this.get("origLeft")+"px",opacity:1});if(a){a.call(this.get("node"));}});animate.call(this,from,to);}};})();Y.extend(NodeAFX,NodeFX,afx);Y.plugin.NodeAFX=NodeAFX;},'3.0.0pr2',{requires:['anim-base','node-base']});